@albumMargins: @contentBoxMargin;
@coverSize: 12em;
@smallCoverSize: 4em;

.album {
	min-height: @coverSize + 2*@albumMargins;

	.menu {
		.edit {
			display: block;
		}

		.save {
			margin-right: .5em;
		}

		.cancel, .save {
			display: none;
		}
	}

	&.editing .menu {
		.edit {
			display: none;
		}

		.cancel, .save {
			display: block;
		}
	}

	.info {
		.cover {
			width: @coverSize;
			height: @coverSize;

			@media @medium {
				width: @smallCoverSize;
				height: @smallCoverSize;
			}

			float: left;
			margin-right: @albumMargins;

			position: relative;

			&> img {
				width: 100%;
				height: 100%;
			}

			.dropzone {
				display: none;

				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;

				border: .25em dashed @mlGray;
				background-color: white;

				img, svg {
					width: 100%;
					height: 100%;
				}

				.dragging, .valid, .invalid {
					display: none;
				}

				&.dragging {
					display: block;

					.dragging {
						display: inline;
					}
				}

				&.valid .valid {
					display: inline;
				}

				&.invalid .invalid {
					display: inline;
				}

				&.valid .dragging, &.invalid .dragging {
					display: none;
				}
			}
		}

		.title {
			//font-family: NestorTitleFont;
			font-weight: bold;
			font-size: 1.2em;
			color: @darkGray;
		}

		.artist {
			margin-left: .5em;
			color: @midGray;

			.name {
				color: @darkGray;
			}
		}

		.year, .tracks {
			display: block;
			color: @midGray;
		}

		.play-indicator {
			svg {
				height: .75em;
			}

			margin-right: .25em;

			display: none;
			vertical-align: top;
		}

		@media @medium {
			.info-clear {
				clear: both;
			}
		}
	}

	&.playlist.playing .info .play-indicator {
		display: inline;
	}

	ul.tracklist {
		list-style-type: none;
		margin-left: @coverSize + @albumMargins;

		@media @medium {
			margin-left: 0;
		}

		li.track {
			display: flex;
			flex-flow: row;
			align-items: baseline;

			.play-indicator {
				visibility: hidden;

				svg {
					height: .75em;
					fill: @yellow !important;
				}
			}

			&.playing .play-indicator {
				visibility: visible;
			}

			.number {
				flex-basis: 1.5em;
				margin-right: .25em;
				color: @mlGray;
				text-align: right;
			}

			.title, .artist {
			}

			.artist {
				color: @mlGray;
			}

			.length {
				margin-left: auto;
				color: @mlGray;
			}

			.controls {
				flex-basis: 1em;

				.menuicon {
					visibility: hidden;
				}
			}

			&:hover .controls .menuicon {
				visibility: visible;
			}

		}
	}
}

.playlist {
	ul.tracklist {
		.track .artist {
			color: @mlGray;
		}
	}
}